\documentclass[10pt, a4paper,english,spanish,hidelinks]{article}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{caratula}
\usepackage[spanish, activeacute]{babel}
\usepackage[usenames,dvipsnames]{color}
\usepackage[width=15.5cm, left=3cm, top=2.5cm, height= 24.5cm]{geometry}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{multicol}
\usepackage{subfig}
\usepackage{float}
\usepackage{color,hyperref}


\usepackage{listings}
\usepackage{babel}
\usepackage{url}
\usepackage{lscape}
\parindent = 15 pt
\parskip = 11 pt

\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{color}
%\usepackage{appendix}
\usepackage{fancyhdr}


\materia{Paradigmas de Lenguajes de Programación}

\titulo{Trabajo Práctico 3}
\fecha{20 de Noviembre de 2014}
\grupo{Grupo tas lokito}
\integrante{Gauder María Lara}{027/10}{marialaraa@gmail.com}
\integrante{Mataloni Alejandro}{706/07}{amataloni@gmail.com}
\integrante{Reartes Marisol}{422/10}{marisol.r5@hotmail.com}


\begin{document}
\pagestyle{myheadings}
\maketitle
\markboth{Paradigmas de Lenguajes de Programación}{Programación Orientada a Objetos}

\section{Código}


\begin{verbatim}
Object subclass: #Resultado
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'
"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Resultado class
	instanceVariableNames: ''

jugador1: unJugador conEleccion: unaEleccion jugador2: otroJugador conEleccion: otraEleccion 
	(unaEleccion empataContra: otraEleccion) ifTrue: [
		^ Empate entre: unJugador eligiendo: unaEleccion y: otroJugador eligiendo: otraEleccion.
	].
	^ (unaEleccion ganaContra: otraEleccion)
	ifTrue: [ Victoria de: unJugador eligiendo: unaEleccion contra: otroJugador 
									eligiendo: otraEleccion ]
	ifFalse: [ Victoria de: otroJugador eligiendo: otraEleccion contra: unJugador 
									eligiendo: unaEleccion ]. 

Object subclass: #Eleccion
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

asString
	^ self class name. 

= otraEleccion
	^self class = otraEleccion class. 

hash
	^ self class hash. 

ganadorContraLagarto
	^ self subclassResponsibility. 

ganaContra: otraEleccion
	^ (self noEmpataContra: otraEleccion)
	 	and:
		[ (self ganadorContra: otraEleccion) = self ] 

noEmpataContra: otraEleccion
	^ (self empataContra: otraEleccion) not. 

pierdeContra: otraEleccion
	^ (self noEmpataContra: otraEleccion)
		and:
		[ (self ganaContra: otraEleccion) not ] 

empataContra: otraEleccion
	^ (self ganadorContra: otraEleccion) isNil. 

ganadorContra: otraEleccion
	^ self subclassResponsibility. 

ganadorContraPiedra
	^ self subclassResponsibility. 

ganadorContraPapel
	^ Eleccion papel. 

ganadorContraTijera
	^ self subclassResponsibility. 

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Eleccion class
	instanceVariableNames: ''

tijera
	^ Tijera new. 

lagarto
	^ Lagarto new. 

todas
	^ self subclasses collect: [:eleccion | eleccion new]. 

spock
	^ Spock new. 

papel
	^ Papel new. 

piedra
	^ Piedra new. 

Object subclass: #Jugador
	instanceVariableNames: 'eleccion'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

perdioEligiendo: miEleccion contra: otroJugador eligiendo: eleccionContraria 

empatoEligiendo: miEleccion contra: otroJugador eligiendo: eleccionContraria 

setEleccion: aEleccion 
	self subclassResponsibility. 

eleccion
	self subclassResponsibility. 

ganoEligiendo: miEleccion contra: otroJugador eligiendo: eleccionContraria 
	
"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Jugador class
	instanceVariableNames: ''

aleatorioConGenerador: aGeneradorRandomParaTest
	|jugador|
	jugador := JugadorAleatorio new.
	jugador setEleccion: aGeneradorRandomParaTest.
	^ jugador. 

humano
	^ self shouldBeImplemented. 

conHistoriaHasta: cantidadDeResultadosAGuardar
	^ self shouldBeImplemented. 

aleatorio
	^ self shouldBeImplemented. 

siempre: unaEleccion
	|jugador|
	jugador := JugadorSiempre new.
	jugador setEleccion: unaEleccion.
	^ jugador. 

adaptativoIniciandoCon: unaEleccion
	|jugador|
	jugador := JugadorAdaptativo new.
	jugador setEleccion: unaEleccion.
	^ jugador. 

Jugador subclass: #JugadorAleatorio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccion
	^ Eleccion todas at: (eleccion nextInt: 0). 

setEleccion: aGenerador
	eleccion := aGenerador. 

Jugador subclass: #JugadorSiempre
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccion
	^ eleccion. 

setEleccion: aEleccion 
	eleccion := aEleccion. 

Eleccion subclass: #Piedra
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccionSuperadora
	^ Eleccion papel. 

ganadorContraPiedra
	^nil. 

ganadorContra: otraEleccion
	^otraEleccion ganadorContraPiedra. 

ganadorContraPapel
	^ Eleccion papel. 

ganadorContraTijera
	^self. 

Eleccion subclass: #Tijera
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccionSuperadora
	^ Eleccion piedra. 

ganadorContraPiedra
	^ Eleccion piedra. 

ganadorContra: otraEleccion
	^ otraEleccion ganadorContraTijera . 

ganadorContraPapel
	^self. 

ganadorContraTijera
	^nil. 

Resultado subclass: #Victoria
	instanceVariableNames: 'ganador eleccionGanadora perdedor eleccionPerdedora'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

esEmpate
	^ false. 

ganador: unJugador eleccionGanadora: unaEleccion perdedor: otroJugador eligiendo: otraEleccion 
	ganador := unJugador.
	eleccionGanadora := unaEleccion.
	perdedor := otroJugador.
	eleccionPerdedora := otraEleccion. 

ganador
	^ ganador 

notificarAJugadores
	perdedor perdioEligiendo:  eleccionPerdedora  contra: ganador eligiendo: eleccionGanadora. 

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Victoria class
	instanceVariableNames: ''

de: unJugador eligiendo: unaEleccion contra: otroJugador eligiendo: otraEleccion 
	^ self new 
		ganador: unJugador
		eleccionGanadora: unaEleccion
		perdedor: otroJugador
		eligiendo: otraEleccion;
		yourself. 

Jugador subclass: #JugadorAdaptativo
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccion
	^ eleccion. 

empatoEligiendo: miEleccion contra: otroJugador eligiendo: eleccionContraria 
	eleccion := eleccionContraria eleccionSuperadora.  

perdioEligiendo: miEleccion contra: otroJugador eligiendo: eleccionContraria 
	eleccion := eleccionContraria eleccionSuperadora.  

setEleccion: aEleccion 
	eleccion := aEleccion. 

Object subclass: #GeneradorRandomParaTest
	instanceVariableNames: 'siguiente'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

siguiente: unNumeroAleatorio
	siguiente := unNumeroAleatorio. 

nextInt: anInteger 
	^ siguiente. 

Resultado subclass: #Empate
	instanceVariableNames: 'jugador1 eleccion1 jugador2 eleccion2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

jugador1: unJugador eleccion1: unaEleccion jugador2: otroJugador eleccion2: otraEleccion 
	jugador1 := unJugador.
	eleccion1 := unaEleccion.
	jugador2 := otroJugador.
	eleccion2 := otraEleccion. 

esEmpate
	^ true. 

ganador
	^ nil. 

notificarAJugadores
	jugador1 empatoEligiendo: eleccion1 contra: jugador2 eligiendo: eleccion2. 
	jugador2 empatoEligiendo: eleccion2 contra: jugador1 eligiendo: eleccion1. 

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Empate class
	instanceVariableNames: ''

entre: unJugador eligiendo: unaEleccion y: otroJugador eligiendo: otraEleccion 
	^ self new
		jugador1: unJugador
		eleccion1: unaEleccion
		jugador2: otroJugador
		eleccion2: otraEleccion;
		yourself. 

Eleccion subclass: #Spock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccionSuperadora
	^ Eleccion lagarto. 

ganadorContraLagarto
	^ Eleccion lagarto. 

ganadorContraPiedra
	^ self. 
ganadorContra: aEleccion 
	^ aEleccion ganadorContraSpock. 

Eleccion subclass: #Lagarto
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

ganadorContraSpock
	^ self. 

eleccionSuperadora
	^ Eleccion piedra. 

ganadorContraLagarto
	^ nil. 

ganadorContra: otraEleccion 
	^ otraEleccion ganadorContraLagarto. 

ganadorContraPiedra
	^ Eleccion piedra. 

Eleccion subclass: #Papel
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

eleccionSuperadora
	^ Eleccion tijera. 

ganadorContraPiedra
	^self. 

ganadorContra: otraEleccion
	^otraEleccion  ganadorContraPapel.  

ganadorContraPapel
	^nil. 

ganadorContraTijera
	^ Eleccion tijera. 

Object subclass: #Juego
	instanceVariableNames: 'jugador1 jugador2 resultado eleccion1 eleccion2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'PLP-TP3'

jugador1: unJugador jugador2: otroJugador 
	jugador1 := unJugador.
	jugador2 := otroJugador. 

revancha
	^ self iniciar. 

resultado	
	resultado isNil ifTrue: [ self iniciar ].	
	^ resultado. 

iniciar
	eleccion1 := jugador1 eleccion.
	eleccion2 := jugador2 eleccion.
	resultado := Resultado jugador1: jugador1 conEleccion: eleccion1
				 			jugador2: jugador2 conEleccion: eleccion2.
	resultado notificarAJugadores. 

"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "

Juego class
	instanceVariableNames: ''

mejorDe: cantidadDeJuegos contra: unJugador
	Juego mejorDe: cantidadDeJuegos entre: Jugador humano y: unJugador. 

mejorDe: cantidadDeJuegos entre: unJugador y: otroJugador
	| j |
	j := Juego entre: unJugador y: otroJugador.
	cantidadDeJuegos timesRepeat: [ j iniciar ]. 

entre: unJugador y: otroJugador 
	^ self new jugador1: unJugador jugador2: otroJugador;
			yourself. 
\end{verbatim}


\end{document}
